testName: Complex Nested JSON Payload Test
description: This test demonstrates the use of a complex nested JSON payload loaded from an external file

request:
  method: POST
  endpoint: https://jsonplaceholder.typicode.com/posts
  headers:
    Content-Type: application/json
    X-Custom-Header: nested-json-test
  payload: file:../payloads/complex_nested_payload.json

verifier:
  statusCode: 201
  jsonPathAssertions:
    - path: $.user.profile.firstName
      expected: "John"
    - path: $.user.profile.preferences.theme
      expected: "dark"
    - path: $.user.subscription.plan
      expected: "premium"
    - path: $.user.subscription.features[0]
      expected: "api-testing"
    - path: $.metadata.tags[2]
      expected: "complex-payload"
    - path: $.user.address.coordinates.latitude
      expected: 37.7749